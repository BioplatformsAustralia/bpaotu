{% extends 'bpaotu/base.html' %}
{% load html_friendly %}

{% block title %}
<title>Bioplatforms OTU Search Facility - Tables</title>
{% endblock title %}






{% block content %}


<link rel="stylesheet" href="//cdn.datatables.net/r/bs-3.3.5/jq-2.1.4,jszip-2.5.0,pdfmake-0.1.18,dt-1.10.9,b-1.0.3,b-colvis-1.0.3,b-html5-1.0.3,b-print-1.0.3,cr-1.2.0,fh-3.0.0,sc-1.3.0/datatables.min.css"
      integrity="sha256-4zLbOiFTCzQ4zxnm/S+9JeIFnhWuIPgyOw0mbhtPuIA= sha384-CpFB96HWkaVC+dOX28UQC2mE/55CXHOQ0JWb+xpe3BHJuxlbmlCwhihPF4Hhk83+ sha512-0EUkXuq2xI8ComQ0X1iDyAOTpE7LzirbiZeWPKMU3ZP/XoWcyx+IbIR9Gb9NOfYxq6Tz35dlRlEuuo8mUFf0xQ=="
      crossorigin="anonymous">



<style>

td, th {
    vertical-align: top;
}

table, thead, tfoot, tr, th, td {
    padding: 12px;
    border: 1px solid;
    border-collapse: collapse;
}

</style>






<script>




$(document).ready(function() {
    console.log("wasd");

    function initialiseTable(name){
        if (! $.fn.DataTable.isDataTable("#" + name)) {
            var table_ptr = $("#" + name).DataTable({
                dom: 'lBfrtip',
                buttons: ['csv']
            });
        }
    }







    $(".tabs").click(function() {
        val = $(this).text().replace(" ", "").toLowerCase();

        // console.log(val);

        initialiseTable(val);

        // $.ajax({
        //     url: '/tables'
        // });
    });





    initialiseTable("soil");

});




</script>




<ul class="nav nav-tabs">
  {% for c in categories %}
    {% if forloop.first %}
        <li class="active tabs"><a data-toggle="tab" href="#{{ c|html_friendly }}_tab">{{ c }}</a></li>
    {% else %}
        <li class="tabs"><a data-toggle="tab" href="#{{ c|html_friendly }}_tab">{{ c }}</a></li>
    {% endif %}

  {% endfor %}
</ul>



<div class="tab-content">
    {% for c in categories %}

        {% if forloop.first %}
        <div id="{{ c|html_friendly }}_tab" class="tab-pane active">
        {% else %}
        <div id="{{ c|html_friendly }}_tab" class="tab-pane">
        {% endif %}

            <h3>{{ c }}</h3>




            <table id="{{ c|html_friendly }}">
                <thead>
                    <tr>
                        {% for elem in table_header %}
                            <th>{{ elem }}</th>
                        {% endfor %}
                    </tr>
                </thead>

                <tbody></tbody>

                <tfoot>
                    <tr>
                        {% for elem in table_header %}
                            <th>{{ elem }}</th>
                        {% endfor %}
                    </tr>
                </tfoot>
            </table>





        </div>
    {% endfor %}


</div>







{% endblock %}
